(function(a){var b=window.localStorage;var c;if(typeof b=="undefined"||typeof window.JSON=="undefined"){c=false}else{c=true}a.totalStorage=function(b,c,d){return a.totalStorage.impl.init(b,c)};a.totalStorage.setItem=function(b,c){return a.totalStorage.impl.setItem(b,c)};a.totalStorage.getItem=function(b){return a.totalStorage.impl.getItem(b)};a.totalStorage.getAll=function(){return a.totalStorage.impl.getAll()};a.totalStorage.impl={init:function(a,b){if(typeof b!="undefined"){return this.setItem(a,b)}else{return this.getItem(a)}},setItem:function(d,e){if(!c){try{a.cookie(d,e);return e}catch(f){console.log("Local Storage not supported by this browser. Install the cookie plugin on your site to take advantage of the same functionality")}}var g=JSON.stringify(e);b.setItem(d,g);return this.parseResult(g)},getItem:function(d){if(!c){try{return this.parseResult(a.cookie(d))}catch(e){return null}}return this.parseResult(b.getItem(d))},getAll:function(){var d=new Array;if(!c){try{var e=document.cookie.split(";");for(var f=0;f<e.length;f++){var g=e[f].split("=");var h=g[0];d.push({key:h,value:this.parseResult(a.cookie(h))})}}catch(i){return null}}else{for(var f in b){if(f.length){d.push({key:f,value:this.parseResult(b.getItem(f))})}}}return d},parseResult:function(a){var b;try{b=JSON.parse(a);if(b=="true"){b=true}if(b=="false"){b=false}if(parseFloat(b)==b){b=parseFloat(b)}}catch(c){}return b}}})(jQuery)